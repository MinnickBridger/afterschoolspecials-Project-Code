(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{260:function(e,t,n){e.exports=n(601)},265:function(e,t,n){},267:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},268:function(e,t,n){},601:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(54),o=n.n(r),c=(n(265),n(235)),i=n(236),u=n(250),l=n(237),d=n(249),g=n(45),p=(n(267),n(268),n(46)),h=n.n(p),m={aws_project_region:"us-east-1",aws_content_delivery_bucket:"expense-app-20181113-hosting",aws_content_delivery_bucket_region:"us-east-1",aws_content_delivery_url:"http://expense-app-20181113-hosting.s3-website-us-east-1.amazonaws.com",aws_cognito_identity_pool_id:"us-east-1:3100247b-6ec7-4587-bbc3-12116ed550b1",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_ynBs7M3xV",aws_user_pools_web_client_id:"6u2375mt5tqflsor2ggb2j6b04",aws_appsync_graphqlEndpoint:"https://co4hltpzerf2ve3t4s25lrnl44.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS"},_=n(238),b=n(605),f=n(599),w=n(606);h.a.configure(m);var y=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={hasLoadedBudget:!1,user:null,budget:null},e.getUserBudget=e.getUserBudget.bind(Object(g.a)(Object(g.a)(e))),e.createUserBudget=e.createUserBudget.bind(Object(g.a)(Object(g.a)(e))),p.Auth.currentAuthenticatedUser().then(function(t){console.log(t),e.setState({user:t},function(){e.getUserBudget()})}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){document.title="Expense App"}},{key:"render",value:function(){var e=this.state,t=(e.user,e.hasLoadedBudget),n=e.budget;return t?n?s.a.createElement("div",{className:"App"},s.a.createElement("body",null,s.a.createElement(b.a,null,s.a.createElement(f.a,null,JSON.stringify(n))))):s.a.createElement("div",{className:"App"},s.a.createElement("body",null,s.a.createElement(b.a,null,s.a.createElement("div",{style:{marginTop:10}},s.a.createElement(f.a,null,"Let's create your first budget!")),s.a.createElement("div",{style:{marginTop:10}},s.a.createElement(w.a,{onClick:this.createUserBudget,primary:!0},"Create!"))))):s.a.createElement("div",{className:"App"},s.a.createElement("body",null,s.a.createElement(b.a,null,s.a.createElement(f.a,null,"Loading budget..."))))}},{key:"getUserBudget",value:function(){var e=this,t={userId:this.state.user.pool.clientId};p.API.graphql(Object(p.graphqlOperation)("query ($userId: String) {\n      listUserBudgets(filter: {userID: {eq: $userId}}) {\n        items {\n          id\n          userID\n          categories {\n            title\n            precent\n            lineItems {\n              id\n              price\n            }\n          }\n        }\n      }\n    }",t)).then(function(t){console.log("MJV results => ",JSON.stringify(t));var n=t.data.listUserBudgets.items;if(n.length>0){e.setState({budget:n[0]})}e.setState({hasLoadedBudget:!0})}).catch(function(e){console.log("MJV ERROR => ",e)})}},{key:"createUserBudget",value:function(){var e=this,t={userId:this.state.user.pool.clientId};p.API.graphql(Object(p.graphqlOperation)("mutation ($userId: String!) {\n      createUserBudget(input: {userID: $userId}) {\n        id\n        userID\n      }\n    }",t)).then(function(t){e.getUserBudget()}).catch(function(e){console.log("MJV ERROR => ",e)})}}]),t}(a.Component),v=Object(_.withAuthenticator)(y,!0);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},91:function(e,t){}},[[260,2,1]]]);
//# sourceMappingURL=main.68a014ff.chunk.js.map